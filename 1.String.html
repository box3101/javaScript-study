<!DOCTYPE html>
<html>
  <head>
    <title>자바스크립트 문자열(String) 기초</title>
    <style>
      .text-container {
        margin: 20px;
        padding: 10px;
        border: 1px solid #ccc;
      }
      .control-panel {
        margin: 20px;
      }
      .result {
        font-size: 18px;
        color: #333;
        margin: 10px 0;
      }
    </style>
  </head>
  <body>
    <h1>자바스크립트 문자열 기본 사용법</h1>

    <script>
      // 1. 문자열 선언
      let str1 = "안녕하세요"; // 큰따옴표
      let str2 = "반갑습니다"; // 작은따옴표

      // 2. 문자열 길이 확인
      console.log("문자열 길이:", str1.length); // 5

      // 3. 문자열 연결
      let result = str1 + " " + str2;
      console.log("문자열 연결:", result);

      // 4. 문자열 메서드 - 문자열을 다루는 다양한 내장 함수들
      /*
         메모리 구조 설명:
         
         [스택 메모리]              [힙 메모리]
         +-----------+            +----------------+
         | text      |─────────→ | "자바스크립트" |
         | (변수)    |            |                |
         +-----------+            +----------------+
         
         1. let으로 변수 선언 시 스택에 공간 할당
         2. 문자열은 힙 메모리에 저장
         3. 변수는 힙의 문자열 위치를 가리키는 참조값 저장
      */
      let text = "자바스크립트"; // text는 힙에 있는 문자열을 가리키는 참조

      // indexOf: 문자열 찾기
      console.log("'바' 위치:", text.indexOf("바")); // 1

      // substring: 문자열 자르기
      console.log("부분 문자열:", text.substring(0, 2)); // "자바"

      // replace: 문자열 치환
      console.log("치환:", text.replace("자바", "JAVA")); // "JAVA스크립트"

      // trim: 공백 제거
      let spacedText = "  공백 테스트  ";
      console.log("공백 제거:", spacedText.trim());

      // toUpperCase, toLowerCase: 대소문자 변환
      let eng = "Hello";
      console.log("대문자:", eng.toUpperCase());
      console.log("소문자:", eng.toLowerCase());
    </script>

    <p>콘솔을 열어서 결과를 확인해보세요 (F12)</p>

    <h2>문자열 UI 조작 예제</h2>
    <div class="text-container">
      <div class="control-panel">
        <input
          type="text"
          id="inputText"
          value="안녕하세요 반갑습니다"
          style="width: 300px"
        />
        <button onclick="toUpperCase()">대문자변환</button>
        <button onclick="toLowerCase()">소문자변환</button>
        <button onclick="trimText()">공백제거</button>
        <input type="text" id="searchText" placeholder="찾을 텍스트" />
        <input type="text" id="replaceText" placeholder="바꿀 텍스트" />
        <button onclick="replaceText()">텍스트 교체</button>
      </div>
      <div class="result" id="resultText"></div>
    </div>

    <script>
      // UI 조작을 위한 함수들
      function updateResult(text) {
        document.getElementById("resultText").textContent = text;
      }

      function toUpperCase() {
        const text = document.getElementById("inputText").value;
        updateResult(text.toUpperCase());
      }

      function toLowerCase() {
        const text = document.getElementById("inputText").value;
        updateResult(text.toLowerCase());
      }

      function trimText() {
        const text = document.getElementById("inputText").value;
        updateResult(text.trim());
      }

      function replaceText() {
        const text = document.getElementById("inputText").value;
        const searchText = document.getElementById("searchText").value;
        const replaceText = document.getElementById("replaceText").value;
        updateResult(text.replace(searchText, replaceText));
      }

      // 초기 텍스트 표시
      updateResult(document.getElementById("inputText").value);
    </script>
  </body>
</html>
